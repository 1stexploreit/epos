<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Change Password - FreshMart POS</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
*{font-family:'Inter',sans-serif}
input:focus{outline:none;border-color:#10b981;box-shadow:0 0 0 3px rgba(16,185,129,0.1)}
</style>
</head>
<body class="bg-slate-100 min-h-screen">

<main class="max-w-lg mx-auto px-6 py-6">
<!-- Back Link -->
<a href="user_profile.html" class="inline-flex items-center gap-2 text-sm text-slate-500 hover:text-slate-700 mb-6">
<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"/></svg>
Back to Profile
</a>

<!-- Header -->
<div class="mb-6">
<h1 class="text-lg font-semibold text-slate-800">Change Password</h1>
<p class="text-xs text-slate-400">Update your account password</p>
</div>

<!-- Password Form -->
<div class="bg-white rounded-xl shadow-sm border border-slate-200/80 p-6">
<form onsubmit="changePassword(event)">
<div class="space-y-4">
<!-- Current Password -->
<div>
<label class="text-xs text-slate-500 font-medium">Current Password <span class="text-red-400">*</span></label>
<div class="relative mt-1">
<input type="password" id="currentPass" class="w-full px-3 py-2.5 border border-slate-200 rounded-lg text-sm pr-10" placeholder="Enter current password" required oninput="validateForm()">
<button type="button" onclick="togglePass('currentPass')" class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600">
<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
</button>
</div>
</div>

<!-- Divider -->
<div class="border-t border-slate-100 pt-4">
<p class="text-xs text-slate-400 mb-4">Enter your new password</p>
</div>

<!-- New Password -->
<div>
<label class="text-xs text-slate-500 font-medium">New Password <span class="text-red-400">*</span></label>
<div class="relative mt-1">
<input type="password" id="newPass" class="w-full px-3 py-2.5 border border-slate-200 rounded-lg text-sm pr-10" placeholder="Enter new password" required oninput="validateForm()">
<button type="button" onclick="togglePass('newPass')" class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600">
<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
</button>
</div>
</div>

<!-- Confirm Password -->
<div>
<label class="text-xs text-slate-500 font-medium">Confirm New Password <span class="text-red-400">*</span></label>
<div class="relative mt-1">
<input type="password" id="confirmPass" class="w-full px-3 py-2.5 border border-slate-200 rounded-lg text-sm pr-10" placeholder="Confirm new password" required oninput="checkMatch()">
<button type="button" onclick="togglePass('confirmPass')" class="absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600">
<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"/></svg>
</button>
</div>
<p id="matchText" class="mt-1 text-[10px]"></p>
</div>
</div>

<!-- Actions -->
<div class="mt-6 flex gap-3">
<button type="submit" id="submitBtn" class="flex-1 py-2.5 bg-emerald-600 text-white rounded-lg text-sm font-medium hover:bg-emerald-700 disabled:bg-slate-300 disabled:cursor-not-allowed" disabled>
Update Password
</button>
<button type="button" onclick="resetForm()" class="px-6 py-2.5 text-slate-600 bg-slate-100 rounded-lg text-sm font-medium hover:bg-slate-200">
Reset
</button>
</div>
</form>
</div>

<!-- Security Tips -->
<div class="mt-4 bg-amber-50 border border-amber-100 rounded-xl p-4">
<div class="flex gap-3">
<svg class="w-5 h-5 text-amber-500 flex-shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg>
<div>
<p class="text-sm font-medium text-amber-800">Security Tips</p>
<ul class="mt-1 text-xs text-amber-700 space-y-1">
<li>• Never share your password with anyone</li>
<li>• Avoid using personal information in your password</li>
<li>• Change your password regularly</li>
</ul>
</div>
</div>
</div>
</main>

<!-- Toast -->
<div id="toast" class="fixed top-4 right-4 z-50 px-4 py-3 bg-slate-800 text-white text-sm rounded-lg shadow-lg flex items-center gap-2" style="display:none">
<svg class="w-5 h-5 text-emerald-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg>
<span id="toastMsg">Success</span>
</div>

<script>
function showToast(m){
const t=document.getElementById('toast');
document.getElementById('toastMsg').textContent=m;
t.style.display='flex';
setTimeout(()=>t.style.display='none',3000);
}

function togglePass(id){
const el=document.getElementById(id);
el.type=el.type==='password'?'text':'password';
}

function checkMatch(){
const newP=document.getElementById('newPass').value;
const confP=document.getElementById('confirmPass').value;
const txt=document.getElementById('matchText');
const inp=document.getElementById('confirmPass');

if(!confP){
txt.textContent='';
inp.classList.remove('border-red-300','border-emerald-300');
validateForm();
return;
}

if(newP===confP){
txt.textContent='✓ Passwords match';
txt.className='mt-1 text-[10px] text-emerald-600';
inp.classList.remove('border-red-300');
inp.classList.add('border-emerald-300');
}else{
txt.textContent='✗ Passwords do not match';
txt.className='mt-1 text-[10px] text-red-500';
inp.classList.remove('border-emerald-300');
inp.classList.add('border-red-300');
}
validateForm();
}

function validateForm(){
const curr=document.getElementById('currentPass').value;
const newP=document.getElementById('newPass').value;
const confP=document.getElementById('confirmPass').value;
const btn=document.getElementById('submitBtn');

const valid=curr&&newP&&confP&&newP===confP;
btn.disabled=!valid;
}

function changePassword(e){
e.preventDefault();
showToast('Password updated successfully!');
setTimeout(()=>resetForm(),1500);
}

function resetForm(){
document.getElementById('currentPass').value='';
document.getElementById('newPass').value='';
document.getElementById('confirmPass').value='';
document.getElementById('matchText').textContent='';
document.getElementById('confirmPass').classList.remove('border-red-300','border-emerald-300');
document.getElementById('submitBtn').disabled=true;
}
</script>
</body>
</html>
